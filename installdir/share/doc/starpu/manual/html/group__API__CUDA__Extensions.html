<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StarPU Handbook: CUDA Extensions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">StarPU Handbook
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__API__CUDA__Extensions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CUDA Extensions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga384db70769609ec68fae5a0105821299"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga384db70769609ec68fae5a0105821299">STARPU_USE_CUDA</a></td></tr>
<tr class="separator:ga384db70769609ec68fae5a0105821299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4993365b79eeba3bc7b595a246ce91c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gaa4993365b79eeba3bc7b595a246ce91c">STARPU_HAVE_LIBNVIDIA_ML</a></td></tr>
<tr class="separator:gaa4993365b79eeba3bc7b595a246ce91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2a0ce53013a0c3d7bafaf0ec000cdd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gae2a0ce53013a0c3d7bafaf0ec000cdd5">STARPU_MAXCUDADEVS</a></td></tr>
<tr class="separator:gae2a0ce53013a0c3d7bafaf0ec000cdd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga305c371567096cedd87290bf68123ced"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga305c371567096cedd87290bf68123ced">STARPU_CUBLAS_REPORT_ERROR</a>(status)</td></tr>
<tr class="separator:ga305c371567096cedd87290bf68123ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae30cd6ebde1dc4001ae8a17cabd5dbc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gae30cd6ebde1dc4001ae8a17cabd5dbc4">STARPU_CUDA_REPORT_ERROR</a>(status)</td></tr>
<tr class="separator:gae30cd6ebde1dc4001ae8a17cabd5dbc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1f4ce467c5135681226d3764911d838c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga1f4ce467c5135681226d3764911d838c">starpu_cublas_report_error</a> (const char *func, const char *file, int line, int status)</td></tr>
<tr class="separator:ga1f4ce467c5135681226d3764911d838c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08ef1dd9623d7adb87cede9e60d3e1dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga08ef1dd9623d7adb87cede9e60d3e1dc">starpu_cuda_report_error</a> (const char *func, const char *file, int line, cudaError_t status)</td></tr>
<tr class="separator:ga08ef1dd9623d7adb87cede9e60d3e1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7d80d054bd2b9570e1d7e24442e19c0"><td class="memItemLeft" align="right" valign="top">cudaStream_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gad7d80d054bd2b9570e1d7e24442e19c0">starpu_cuda_get_local_stream</a> (void)</td></tr>
<tr class="separator:gad7d80d054bd2b9570e1d7e24442e19c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9ac79d42cd3110b1952e5b96d27e386"><td class="memItemLeft" align="right" valign="top">const struct cudaDeviceProp *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gac9ac79d42cd3110b1952e5b96d27e386">starpu_cuda_get_device_properties</a> (unsigned workerid)</td></tr>
<tr class="separator:gac9ac79d42cd3110b1952e5b96d27e386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20c5b69812878a57e22f4f3c5cc8f56f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga20c5b69812878a57e22f4f3c5cc8f56f">starpu_cuda_copy_async_sync</a> (void *src_ptr, unsigned src_node, void *dst_ptr, unsigned dst_node, size_t ssize, cudaStream_t stream, enum cudaMemcpyKind kind)</td></tr>
<tr class="separator:ga20c5b69812878a57e22f4f3c5cc8f56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c17ac2833d1294eb95d53a0fea8e6d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga4c17ac2833d1294eb95d53a0fea8e6d2">starpu_cuda_copy2d_async_sync</a> (void *src_ptr, unsigned src_node, void *dst_ptr, unsigned dst_node, size_t blocksize, size_t numblocks, size_t ld_src, size_t ld_dst, cudaStream_t stream, enum cudaMemcpyKind kind)</td></tr>
<tr class="separator:ga4c17ac2833d1294eb95d53a0fea8e6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf17d0c5fc574ca9a78498432b53f6290"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#gaf17d0c5fc574ca9a78498432b53f6290">starpu_cuda_copy3d_async_sync</a> (void *src_ptr, unsigned src_node, void *dst_ptr, unsigned dst_node, size_t blocksize, size_t numblocks_1, size_t ld1_src, size_t ld1_dst, size_t numblocks_2, size_t ld2_src, size_t ld2_dst, cudaStream_t stream, enum cudaMemcpyKind kind)</td></tr>
<tr class="separator:gaf17d0c5fc574ca9a78498432b53f6290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b170653608d3381b660afba63be39da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga3b170653608d3381b660afba63be39da">starpu_cuda_set_device</a> (unsigned devid)</td></tr>
<tr class="separator:ga3b170653608d3381b660afba63be39da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60f4393ac61f22cafc9b13386274acba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga60f4393ac61f22cafc9b13386274acba">starpu_cusparse_init</a> (void)</td></tr>
<tr class="separator:ga60f4393ac61f22cafc9b13386274acba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b3c077a20a94757f3e6b7e36544ab97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga0b3c077a20a94757f3e6b7e36544ab97">starpu_cusparse_shutdown</a> (void)</td></tr>
<tr class="separator:ga0b3c077a20a94757f3e6b7e36544ab97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91a1f8b244999a0138d41df182b71846"><td class="memItemLeft" align="right" valign="top">cusparseHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga91a1f8b244999a0138d41df182b71846">starpu_cusparse_get_local_handle</a> (void)</td></tr>
<tr class="separator:ga91a1f8b244999a0138d41df182b71846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f70358bd39f2228d7b0558702306d96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga9f70358bd39f2228d7b0558702306d96">starpu_cublas_init</a> (void)</td></tr>
<tr class="separator:ga9f70358bd39f2228d7b0558702306d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97300f073573da28193c95d1379bf675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga97300f073573da28193c95d1379bf675">starpu_cublas_set_stream</a> (void)</td></tr>
<tr class="separator:ga97300f073573da28193c95d1379bf675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cd8378588620422bc6c3246016ffcd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga3cd8378588620422bc6c3246016ffcd8">starpu_cublas_shutdown</a> (void)</td></tr>
<tr class="separator:ga3cd8378588620422bc6c3246016ffcd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36e0141d9f28894cbb0c3235afc32ed1"><td class="memItemLeft" align="right" valign="top">cublasHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__CUDA__Extensions.html#ga36e0141d9f28894cbb0c3235afc32ed1">starpu_cublas_get_local_handle</a> (void)</td></tr>
<tr class="separator:ga36e0141d9f28894cbb0c3235afc32ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga384db70769609ec68fae5a0105821299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga384db70769609ec68fae5a0105821299">&#9670;&nbsp;</a></span>STARPU_USE_CUDA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_USE_CUDA</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined when StarPU has been installed with CUDA support. It should be used in your code to detect the availability of CUDA. </p>

</div>
</div>
<a id="gaa4993365b79eeba3bc7b595a246ce91c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4993365b79eeba3bc7b595a246ce91c">&#9670;&nbsp;</a></span>STARPU_HAVE_LIBNVIDIA_ML</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_HAVE_LIBNVIDIA_ML</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined when StarPU has been installed with NVidia-ML support. It should be used in your code to detect the availability of NVML-related functions. </p>

</div>
</div>
<a id="gae2a0ce53013a0c3d7bafaf0ec000cdd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2a0ce53013a0c3d7bafaf0ec000cdd5">&#9670;&nbsp;</a></span>STARPU_MAXCUDADEVS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_MAXCUDADEVS</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define the maximum number of CUDA devices that are supported by StarPU. </p>

</div>
</div>
<a id="ga305c371567096cedd87290bf68123ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga305c371567096cedd87290bf68123ced">&#9670;&nbsp;</a></span>STARPU_CUBLAS_REPORT_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_CUBLAS_REPORT_ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">status</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call <a class="el" href="group__API__CUDA__Extensions.html#ga1f4ce467c5135681226d3764911d838c">starpu_cublas_report_error()</a>, passing the current function, file and line position. </p>

</div>
</div>
<a id="gae30cd6ebde1dc4001ae8a17cabd5dbc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae30cd6ebde1dc4001ae8a17cabd5dbc4">&#9670;&nbsp;</a></span>STARPU_CUDA_REPORT_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_CUDA_REPORT_ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">status</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call <a class="el" href="group__API__CUDA__Extensions.html#ga08ef1dd9623d7adb87cede9e60d3e1dc">starpu_cuda_report_error()</a>, passing the current function, file and line position. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga60f4393ac61f22cafc9b13386274acba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60f4393ac61f22cafc9b13386274acba">&#9670;&nbsp;</a></span>starpu_cusparse_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cusparse_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize CUSPARSE on every CUDA device controlled by StarPU. This call blocks until CUSPARSE has been properly initialized on every device. </p>

</div>
</div>
<a id="ga9f70358bd39f2228d7b0558702306d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f70358bd39f2228d7b0558702306d96">&#9670;&nbsp;</a></span>starpu_cublas_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cublas_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize CUBLAS on every CUDA device. The CUBLAS library must be initialized prior to any CUBLAS call. Calling <a class="el" href="group__API__CUDA__Extensions.html#ga9f70358bd39f2228d7b0558702306d96">starpu_cublas_init()</a> will initialize CUBLAS on every CUDA device controlled by StarPU. This call blocks until CUBLAS has been properly initialized on every device. </p>

</div>
</div>
<a id="ga36e0141d9f28894cbb0c3235afc32ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36e0141d9f28894cbb0c3235afc32ed1">&#9670;&nbsp;</a></span>starpu_cublas_get_local_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cublasHandle_t starpu_cublas_get_local_handle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the CUSPARSE handle to be used to queue CUSPARSE kernels. It is properly initialized and configured for multistream by <a class="el" href="group__API__CUDA__Extensions.html#ga60f4393ac61f22cafc9b13386274acba">starpu_cusparse_init()</a>. </p>

</div>
</div>
<a id="ga1f4ce467c5135681226d3764911d838c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f4ce467c5135681226d3764911d838c">&#9670;&nbsp;</a></span>starpu_cublas_report_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cublas_report_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Report a CUBLAS error. </p>

</div>
</div>
<a id="ga08ef1dd9623d7adb87cede9e60d3e1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08ef1dd9623d7adb87cede9e60d3e1dc">&#9670;&nbsp;</a></span>starpu_cuda_report_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cuda_report_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudaError_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Report a CUDA error. </p>

</div>
</div>
<a id="gad7d80d054bd2b9570e1d7e24442e19c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7d80d054bd2b9570e1d7e24442e19c0">&#9670;&nbsp;</a></span>starpu_cuda_get_local_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cudaStream_t starpu_cuda_get_local_stream </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current worker’s CUDA stream. StarPU provides a stream for every CUDA device controlled by StarPU. This function is only provided for convenience so that programmers can easily use asynchronous operations within codelets without having to create a stream by hand. Note that the application is not forced to use the stream provided by <a class="el" href="group__API__CUDA__Extensions.html#gad7d80d054bd2b9570e1d7e24442e19c0">starpu_cuda_get_local_stream()</a> and may also create its own streams. Synchronizing with <code>cudaDeviceSynchronize()</code> is allowed, but will reduce the likelihood of having all transfers overlapped. </p>

</div>
</div>
<a id="gac9ac79d42cd3110b1952e5b96d27e386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac9ac79d42cd3110b1952e5b96d27e386">&#9670;&nbsp;</a></span>starpu_cuda_get_device_properties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct cudaDeviceProp* starpu_cuda_get_device_properties </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>workerid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a pointer to device properties for worker <code>workerid</code> (assumed to be a CUDA worker). </p>

</div>
</div>
<a id="ga20c5b69812878a57e22f4f3c5cc8f56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20c5b69812878a57e22f4f3c5cc8f56f">&#9670;&nbsp;</a></span>starpu_cuda_copy_async_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_cuda_copy_async_sync </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>src_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>dst_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ssize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudaStream_t&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum cudaMemcpyKind&#160;</td>
          <td class="paramname"><em>kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy <code>ssize</code> bytes from the pointer <code>src_ptr</code> on <code>src_node</code> to the pointer <code>dst_ptr</code> on <code>dst_node</code>. The function first tries to copy the data asynchronous (unless <code>stream</code> is <code>NULL</code>). If the asynchronous copy fails or if <code>stream</code> is <code>NULL</code>, it copies the data synchronously. The function returns <code>-EAGAIN</code> if the asynchronous launch was successfull. It returns 0 if the synchronous copy was successful, or fails otherwise. </p>

</div>
</div>
<a id="ga4c17ac2833d1294eb95d53a0fea8e6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c17ac2833d1294eb95d53a0fea8e6d2">&#9670;&nbsp;</a></span>starpu_cuda_copy2d_async_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_cuda_copy2d_async_sync </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>src_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>dst_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blocksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld_dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudaStream_t&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum cudaMemcpyKind&#160;</td>
          <td class="paramname"><em>kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy <code>numblocks</code> blocks of <code>blocksize</code> bytes from the pointer <code>src_ptr</code> on <code>src_node</code> to the pointer <code>dst_ptr</code> on <code>dst_node</code>.</p>
<p>The blocks start at addresses which are ld_src (resp. ld_dst) bytes apart in the source (resp. destination) interface.</p>
<p>The function first tries to copy the data asynchronous (unless <code>stream</code> is <code>NULL</code>). If the asynchronous copy fails or if <code>stream</code> is <code>NULL</code>, it copies the data synchronously. The function returns <code>-EAGAIN</code> if the asynchronous launch was successfull. It returns 0 if the synchronous copy was successful, or fails otherwise. </p>

</div>
</div>
<a id="gaf17d0c5fc574ca9a78498432b53f6290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf17d0c5fc574ca9a78498432b53f6290">&#9670;&nbsp;</a></span>starpu_cuda_copy3d_async_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_cuda_copy3d_async_sync </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>src_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>src_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>dst_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blocksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numblocks_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld1_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld1_dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numblocks_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld2_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ld2_dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cudaStream_t&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum cudaMemcpyKind&#160;</td>
          <td class="paramname"><em>kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy <code>numblocks_1</code> * <code>numblocks_2</code> blocks of <code>blocksize</code> bytes from the pointer <code>src_ptr</code> on <code>src_node</code> to the pointer <code>dst_ptr</code> on <code>dst_node</code>.</p>
<p>The blocks are grouped by <code>numblocks_1</code> blocks whose start addresses are ld1_src (resp. ld1_dst) bytes apart in the source (resp. destination) interface.</p>
<p>The function first tries to copy the data asynchronous (unless <code>stream</code> is <code>NULL</code>). If the asynchronous copy fails or if <code>stream</code> is <code>NULL</code>, it copies the data synchronously. The function returns <code>-EAGAIN</code> if the asynchronous launch was successfull. It returns 0 if the synchronous copy was successful, or fails otherwise. </p>

</div>
</div>
<a id="ga3b170653608d3381b660afba63be39da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b170653608d3381b660afba63be39da">&#9670;&nbsp;</a></span>starpu_cuda_set_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cuda_set_device </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>devid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call <code>cudaSetDevice(<code>devid</code>)</code> or <code>cudaGLSetGLDevice(<code>devid</code>)</code>, according to whether <code>devid</code> is among the field <a class="el" href="group__API__Initialization__and__Termination.html#adeb1e95a62549f3ef436bbf13cf30e0a">starpu_conf::cuda_opengl_interoperability</a>. </p>

</div>
</div>
<a id="ga97300f073573da28193c95d1379bf675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97300f073573da28193c95d1379bf675">&#9670;&nbsp;</a></span>starpu_cublas_set_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cublas_set_stream </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the proper CUBLAS stream for CUBLAS v1. This must be called from the CUDA codelet before calling CUBLAS v1 kernels, so that they are queued on the proper CUDA stream. When using one thread per CUDA worker, this function does not do anything since the CUBLAS stream does not change, and is set once by <a class="el" href="group__API__CUDA__Extensions.html#ga9f70358bd39f2228d7b0558702306d96">starpu_cublas_init()</a>. </p>

</div>
</div>
<a id="ga3cd8378588620422bc6c3246016ffcd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cd8378588620422bc6c3246016ffcd8">&#9670;&nbsp;</a></span>starpu_cublas_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cublas_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously deinitialize the CUBLAS library on every CUDA device. </p>

</div>
</div>
<a id="ga0b3c077a20a94757f3e6b7e36544ab97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b3c077a20a94757f3e6b7e36544ab97">&#9670;&nbsp;</a></span>starpu_cusparse_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_cusparse_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously deinitialize the CUSPARSE library on every CUDA device. </p>

</div>
</div>
<a id="ga91a1f8b244999a0138d41df182b71846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91a1f8b244999a0138d41df182b71846">&#9670;&nbsp;</a></span>starpu_cusparse_get_local_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cusparseHandle_t starpu_cusparse_get_local_handle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the CUSPARSE handle to be used to queue CUSPARSE kernels. It is properly initialized and configured for multistream by <a class="el" href="group__API__CUDA__Extensions.html#ga60f4393ac61f22cafc9b13386274acba">starpu_cusparse_init()</a>. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 22 2021 15:02:18 for StarPU Handbook by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
